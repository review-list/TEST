{% extends "_base.html" %}
{% block content %}
<section class="container">
  <div class="page-head">
    <h1 class="page-title">{{ heading }}</h1>

    {% if pager and pager.show_paging_link %}
      <div class="top-paging-link">
        <a class="muted-link" href="{{ root_path }}{{ pager.paging_href }}">ä½œå“ä¸€è¦§ï¼ˆãƒšãƒ¼ã‚¸ãƒ³ã‚°ï¼‰ã‚’è¦‹ã‚‹ â†’</a>
      </div>
    {% endif %}
  </div>

  {% if pager and pager.page %}
  <div class="pager">
    {% if pager.prev %}
      <a class="btn btn-ghost" href="{{ root_path }}{{ pager.prev }}">â† å‰</a>
    {% else %}
      <span class="btn btn-ghost is-disabled">â† å‰</span>
    {% endif %}

    <span class="pager-text">{{ pager.page }} / {{ pager.total }}</span>

    {% if pager.next %}
      <a class="btn btn-ghost" href="{{ root_path }}{{ pager.next }}">æ¬¡ â†’</a>
    {% else %}
      <span class="btn btn-ghost is-disabled">æ¬¡ â†’</span>
    {% endif %}
  </div>
  {% endif %}

  <div class="works-grid">
    {% for w in works %}
      <a class="work-card" href="{{ root_path }}works/{{ w.id }}/" aria-label="{{ w.title }}">
        <div class="work-thumb">
          {% if w.hero_image %}
            <img loading="lazy" src="{{ w.hero_image }}" alt="{{ w.title }}">
          {% else %}
            <div class="thumb-placeholder"></div>
          {% endif %}
          <div class="work-badges">
            {% if w._has_img %}
              <span class="badge badge-img">ğŸ–¼ï¸ ã‚µãƒ³ãƒ—ãƒ«ç”»åƒã‚ã‚Š</span>
            {% endif %}
            {% if w._has_mov %}
              <span class="badge badge-mov">ğŸ¬ ã‚µãƒ³ãƒ—ãƒ«å‹•ç”»ã‚ã‚Š</span>
            {% endif %}
          </div>
        </div>

        <div class="work-meta">
          <div class="work-title">{{ w.title }}</div>
          <div class="work-sub">
            {% if w.release_date %}<span class="muted">{{ w.release_date }}</span>{% endif %}
            {% if w.maker %}<span class="dot">â€¢</span><span class="muted">{{ w.maker }}</span>{% endif %}
            {% if w.series %}<span class="dot">â€¢</span><span class="muted">{{ w.series }}</span>{% endif %}
          </div>
        </div>
      </a>
    {% endfor %}
  </div>

  {% if pager and pager.page %}
  <div class="pager pager--bottom">
    {% if pager.prev %}
      <a class="btn btn-ghost" href="{{ root_path }}{{ pager.prev }}">â† å‰</a>
    {% else %}
      <span class="btn btn-ghost is-disabled">â† å‰</span>
    {% endif %}

    <span class="pager-text">{{ pager.page }} / {{ pager.total }}</span>

    {% if pager.next %}
      <a class="btn btn-ghost" href="{{ root_path }}{{ pager.next }}">æ¬¡ â†’</a>
    {% else %}
      <span class="btn btn-ghost is-disabled">æ¬¡ â†’</span>
    {% endif %}
  </div>
  {% endif %}
</section>
{% endblock %}
